@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

'hide footbox
actor "Human Resources Manager" as HRM
participant ":AssignSkillCollaboratorUI" as UI
participant ":AssignSkillCollaboratorController" as CTRL
participant ":Repositories" as RepositorySingleton
participant "repositories\n:Repositories" as PLAT
participant "collaboratorRepository\n:CollaboratorRepository" as collaboratorRepository
participant "skillRepository\n:SkillRepository" as skillRepository

activate HRM

        HRM -> UI : asks to assign a skill to a collaborator


        activate UI

        UI --> HRM : request data (Collaborator ID Number)
        deactivate UI


        HRM -> UI : selects requested data
        activate UI

        UI -> CTRL** : create

        UI -> CTRL : getSkillList()
        activate CTRL

            CTRL -> RepositorySingleton : getInstance()
            activate RepositorySingleton

            RepositorySingleton --> CTRL : repositories
            deactivate RepositorySingleton

            CTRL -> PLAT : getSkillRepository()
            activate PLAT

            PLAT --> CTRL : skillRepository
            deactivate PLAT

            CTRL -> skillRepository : getSkillList()
            activate skillRepository

            skillRepository --> CTRL : skillList
            deactivate skillRepository

            CTRL -> UI :  skillList
        deactivate CTRL
            UI -> HRM : shows skillList






    loop selects skills

        UI --> HRM : request data (skill)
        deactivate UI


        HRM -> UI : selects  skill
        activate UI


        UI --> HRM : show all data registered  for confirmation
        deactivate UI

        HRM -> UI : submits data
            activate UI
    end







            UI -> CTRL : assignSkillCollaboratorById(collaboratorId,skill)
            activate CTRL


            CTRL -> CTRL : assignSkillCollaboratorById(collaboratorId,skill)
                    activate CTRL

                        CTRL -> RepositorySingleton : getInstance()
                        activate RepositorySingleton

                        RepositorySingleton --> CTRL : repositories
                        deactivate RepositorySingleton

                        CTRL -> PLAT : getCollaboratorRepository()
                        activate PLAT

                        PLAT --> CTRL : collaboratorRepository
                        deactivate PLAT


                        CTRL -> collaboratorRepository : assignSkillCollaboratorById(collaboratorId,skill)
                        activate collaboratorRepository

                        collaboratorRepository -> collaboratorRepository : findCollaboratorById(collboratorId)
                        activate collaboratorRepository

                        collaboratorRepository -> collaboratorRepository: assignSkillCollaborator(skill)
                        activate collaboratorRepository
                        collaboratorRepository -> collaboratorRepository: validateIfHasSkill(skill)
                                activate collaboratorRepository

                                collaboratorRepository --> collaboratorRepository
                                deactivate collaboratorRepository
                        collaboratorRepository --> collaboratorRepository :
                        deactivate collaboratorRepository
                        collaboratorRepository --> collaboratorRepository :

                        deactivate collaboratorRepository


                        collaboratorRepository --> CTRL : true/false
                        deactivate collaboratorRepository

                        CTRL --> CTRL : true/false
                        deactivate CTRL




                CTRL --> UI: true/false
                deactivate CTRL
                UI --> HRM: displays the success of the operation.

        deactivate UI
    deactivate HRM

@enduml