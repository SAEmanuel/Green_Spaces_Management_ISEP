@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

title UI Sequence Diagram (SSD) - Alternative One

autonumber

actor "Green Space Manager" as Employee
participant ":RegisterGreenSpaceUI" as UI
participant ":RegisterGreenSpaceController" as CTRL
participant ":Repositories" as RepositorySingleton
participant "repositories\n:Repositories" as PLAT
participant "greenSpaceRepository\n:GreenSpaceRepository" as greenSpaceRepository
participant "greenSpace\n:GreenSpace" as EMPREGO


activate Employee

    Employee -> UI : ask to register a green space
    activate UI

    UI -> CTRL** : create

        UI --> Employee : request data (name,size,area)
    deactivate UI

    Employee -> UI : types requested data

    activate UI

        UI --> Employee : show all data registered\n and the confirmation menu
    deactivate UI

    Employee -> UI : submits data
    activate UI

    UI -> CTRL : registerGreenSpace(name,size,area)
    activate CTRL

    CTRL -> CTRL : getGreenSpaceRepository()
    activate CTRL


        CTRL -> RepositorySingleton : getInstance()
        activate RepositorySingleton

        RepositorySingleton --> CTRL: repositories
        deactivate RepositorySingleton

        CTRL -> PLAT : getGreenSpaceRepository()
        activate PLAT

        PLAT --> CTRL: greenSpaceRepository
        deactivate PLAT

        CTRL --> CTRL : greenSpaceRepository

    deactivate CTRL

    CTRL -> greenSpaceRepository : registerGreenSpace(name,size,area)
    activate greenSpaceRepository

    greenSpaceRepository -> EMPREGO** : create

    greenSpaceRepository -> greenSpaceRepository : addGreenSpace(greenSpace)

    activate greenSpaceRepository
    greenSpaceRepository -> greenSpaceRepository : validateGreenSpace(greenSpace)
    activate greenSpaceRepository
    greenSpaceRepository --> greenSpaceRepository
    deactivate greenSpaceRepository
    greenSpaceRepository --> greenSpaceRepository
    deactivate greenSpaceRepository



    greenSpaceRepository --> CTRL : greenSpace
    deactivate greenSpaceRepository
    CTRL --> UI : greenSpace
    deactivate CTRL

        UI --> Employee : shows operation (in)success
    deactivate UI

@enduml