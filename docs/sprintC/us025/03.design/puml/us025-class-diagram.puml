@startuml
'skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false
skinparam linetype polyline
'skinparam linetype orto
skinparam classAttributeIconSize 0
'left to right direction

class CancelAgendaTaskUI {
}


class AgendaController {
    - AgendaRepository agendaRepository
    + AgendaController()
    - getAgenda()
    + postponeTask(int agendaTaskID, Data postponeDate)

}
class Repositories {
    - Repositories()
    + getInstance() : Repositories
    + getAgenda()
    + getAuthenticationRepository()
}

class AuthenticationRepository {
    + getCurrentUserSession()
}

class UserSession {
    + getUserId()
}

class Email {
    + getEmail()
}



class AgendaRepository {
    -List<AgendaEntry> agendaEntries
    + cancelTask(int agendaTaskID, String responsible)
    - getAgendaEntriesForResponsible(String responsible)
    - getTaskByResposible(int agendaTaskID, List<AgendaEntry> agendaTasks)
    - validatesStatus(AgendaEntry taskInAgenda)
}




class AgendaMapper {
 +AgendaMapper()
 + toDto(List<AgendaEntry> agendaEntries)
 - toDto(AgendaEntry agendaEntry)
}

class AgendaEntryDTO{
    - AgendaEntry objDto
    + AgendaEntryDTO(AgendaEntry agendaEntry)
    + getObjDto()
    +getResponsible()
}




class enum_Status {
    PLANNED
    CANCELED
    DONE
    + toString()
}





CancelAgendaTaskUI .> AgendaController
'
AgendaController ..> AgendaMapper : sendToDoEntryList()
AgendaController <... AgendaMapper : sendToDoEntryListDTO()
AgendaMapper ..> AgendaEntryDTO
Repositories "1" --> "1" AuthenticationRepository : contains
AuthenticationRepository -> UserSession : contains
UserSession "1" --> "*" Email : contains
AgendaController .> Repositories : repositories
Repositories  --> "1 " AgendaRepository
Repositories -> Repositories : instance
AgendaController ...>  AgendaRepository : agendaRepository
'AgendaRepository --> AgendaController : getVehicleCheckUpList()
AgendaEntryDTO ..> AgendaMapper : returns Dto Obj
enum_Status - AgendaRepository

@enduml
